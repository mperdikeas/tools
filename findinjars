#!/usr/bin/env bash
if [ $# -lt 2 ] || [ $# -gt 3 ]
then
    echo "usage is $0 <top-of-folder-hierarchy> <optional -i flag> <grep pattern to look for in 'jar tvf' output>"
else
    FOLDER="$1"
    #    THING_TO_LOOKFOR="$2"
    # find "$FOLDER" -iname \*.jar | while read f ; do echo $f && (jar tvf $f | grep -i "$THING_TO_LOOKFOR") ; done        # I believe the rest is not needed:
    find "$FOLDER" -iname \*.jar | while read f ; do echo $f && (jar tvf $f | grep $(echo "${*:2}")) ; done | grep -B1 20  # It is not strictly needed but it does result in less cluttered output
fi

